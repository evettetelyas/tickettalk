language: ruby
cache: bundler

env:
  - TWILIO_ACCOUNT_SID: ENV['TWILIO_ACCOUNT_SID']
  - TWILIO_AUTH_TOKEN: ENV['TWILIO_AUTH_TOKEN']
  - TWILIO_PHONE_NUMBER: ENV['TWILIO_PHONE_NUMBER']

rvm:
  - 2.6.2

services:
  - postgresql
  - redis-server

script:
  - bundle install
  - bundle exec rake db:create
  - bundle exec rake db:migrate
  - bundle exec rspec
